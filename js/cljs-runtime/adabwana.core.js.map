{"version":3,"sources":["adabwana/core.cljs"],"mappings":";AAWA,GAAA,QAAAA,qCAAAC,0CAAAC;AAAA;AAAA,AAAA,AAASC,6BAAa,gDAAA,hDAACC;;AAGvB,gCAAA,hCAAMC;AAAN,AAAA,0FAAA,oJAAA,2CAAA,uDAAA,2CAAA,yDAAA,wBAAA,mFAAA,0GAAA,2CAAA,qDAAA,iBAAA,mFAAA,qFAAA;;AAMA,qBAAA,rBAAMC;AAAN,AAEE,AAACC;;AAGD,AAACC,iCACA,4EAAA,2CAAA,qDAAA,2CAAA,vNAACC,qDAAUC,8NAAgCC,+CAC3C,WAAKC;AAAL,AAAQ,OAACC,sBAAOV,2BAAa,qBAAA,kMAAA,rMAAMS,GAAE,AAACE,uBAAc,AAAA,mFAAO,AAAA,mFAAOF;GAFnE,2CAAA,sEAAA;;AAMA,IAAMG,UAAQ,wBAAA,xBAACC;AAAf,AACE,wDAAA,mFAAA,pIAACC;AAAD,AAAe,oBAAA,AAAAC,gBAAKf;AAAL,OAAAe,gBACEf;;AADF,0FAEEE;;WAAmBU","names":["js/adabwana","js/adabwana.core","js/adabwana.core.current-page","adabwana.core/current-page","reagent.core.atom","adabwana.core/loading-spinner","adabwana.core/init","adabwana.htmx/init-htmx","reitit.frontend.easy/start!","reitit.frontend.router","adabwana.routes/routes","reitit.coercion.spec/coercion","m","cljs.core/reset!","adabwana.layout/layout","root-el","js/document.getElementById","reagent.dom.render","cljs.core/deref"],"sourcesContent":["(ns adabwana.core\n  (:require [reagent.dom :as rdom]\n            [reagent.core :as r]\n            [reitit.frontend :as rf]\n            [reitit.frontend.easy :as rfe]\n            [reitit.coercion.spec :as rcs]\n            [adabwana.routes :as routes]\n            [adabwana.layout :as layout]\n            [adabwana.htmx :as htmx]))\n\n;; Current page atom\n(defonce current-page (r/atom nil))\n\n;; Loading component\n(defn loading-spinner []\n  [:div.d-flex.justify-content-center.align-items-center {:style {:height \"100vh\"}}\n   [:div.spinner-border.text-primary {:role \"status\"}\n    [:span.visually-hidden \"Loading...\"]]])\n\n;; Initialize function\n(defn init []\n  ;; Initialize HTMX\n  (htmx/init-htmx)\n  \n  ;; Start router\n  (rfe/start!\n   (rf/router routes/routes {:data {:coercion rcs/coercion}})\n   (fn [m] (reset! current-page (when m (layout/layout (:view (:data m))))))\n   {:use-fragment false})\n  \n  ;; Render application\n  (let [root-el (js/document.getElementById \"app\")]\n    (rdom/render [#(if @current-page\n                    @current-page\n                    [loading-spinner])] root-el)))"]}