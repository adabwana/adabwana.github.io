{"version":3,"sources":["adabwana/htmx.cljs"],"mappings":";AAMA,0BAAA,1BAAMA;AAAN,AAAA;AAEE,GAAM,QAAAC;AAAN,OACM,MAAA,NAACC,AACD,+CAAA,WAAAC,jEACA;AADA,AAAQ,OAAAA;SACD,WAAKC;AAAL,AACC,IAAMC,SAAO,uBAAA,vBAACC;AAAd,AACE,IAAAC,iBAAUF;AAAV,AAAA,IAAAG,iBAAA,EAAA,GAAA,CAAAD,kBAAA,SAAAA,eAAQ;AAAR,AAAA,CAAAC,eAAA,UAAA;;AAAAA;AACA,IAAAC,iBAAUJ;qEADF,rEACR,AAAA,IAAAK,iBAAA,EAAA,GAAA,CAAAD,kBAAA,SAAAA;AAAA,AAAA,CAAAC,eAAA,iBAA8BN;;AAA9BM;AACA,AAACC,0BAA6BN;;AAC9B,mBAAA,ZAACO;;;AARjB;;;AAUF,+BAAA,/BAAMC;AAAN,AAAA;AAEE,GAAM,EAAK,QAAAZ,6BAAoB,QAAAa;AAA/B,AACE,OAACC;;AADH;;;AAGF,sCAAA,tCAAMC,oFAAuBC,IAAIC;AAAjC,AAAA;AAEE,IAAMC,WAAS,gDAAA,hDAACC;AAAhB,AACE,+DAAA,2CAAA,nGAACC,uLAEC,WAAKC;AAAL,AACE,WAAA,AAAAC,PAAMC,uBAAML;AAAZ,AACE,IAAAM,iBAAUD;qEAjBM,rEAiBhB,AAAA,IAAAE,iBAAA,EAAA,GAAA,CAAAD,kBAAA,SAAAA;AAAA,AAAA,CAAAC,eAAA,YAAuBT;;AAAvBS;AACA,IAAAC,iBAAUH;qEAlBM,rEAkBhB,AAAA,IAAAI,iBAAA,EAAA,GAAA,CAAAD,kBAAA,SAAAA;AAAA,AAAA,CAAAC,eAAA,gBAAA;;AAAAA;AACA,IAAAC,WAAUL;mDAnBM,nDAmBhB,AAAA,IAAAM,WAAA,EAAA,GAAA,CAAAD,YAAA,SAAAA;AAAA,AAAA,CAAAC,SAAA,eAA0B,CAAA,gDAASZ;;AAAnCY;GANN,yEASE;AAAA,AAAA,0FAAA,kFAAA,2CAAA,mDAAA,WAAAC;AAAA,AAEU,sCAAAA,/BAACC,sBAAOb;WAFlB,mFAAA,mHAAA,2CAAA,qDAAA,iBAAA,mFAAA,qFAAA;;;AAMN,mCAAA,nCAAMc;AAAN,AAAA;AAEE,GAAM,QAAAhC;AAAN,AACE,IAAMiC,OAAK,AAACC;AAAZ,AACE,6BAAA,tBAAmBD,uCACD,WAAKE;AAAL,AACE,OAACvB;;;AAJzB;;;AAMF,sBAAA,tBAAMwB;AAAN,AAAA;AAEE,AAACrC;;AACD,OAACsC,gDAAO,iDAAA,jDAACC,wDACD;AAAA,AACE,OAACN","names":["adabwana.htmx/init-htmx","js/window","js/fetch","p1__44308#","text","script","js/document.createElement","obj44318","obj44320","obj44325","obj44327","js/document.head.appendChild","js/console.log","adabwana.htmx/highlight-code","js/hljs","js/hljs.highlightAll","adabwana.htmx/create-htmx-component","url","target-id","node-ref","reagent.core.atom","reagent.core.create_class","this","cljs.core/deref","node","obj44349","obj44351","obj44355","obj44356","obj44360","obj44362","p1__44345#","cljs.core/reset!","adabwana.htmx/handle-htmx-events","body","js/document.body","_","adabwana.htmx/setup","promesa.core.then","promesa.core.delay"],"sourcesContent":["(ns adabwana.htmx\n  (:require [reagent.core :as r]\n            [reagent.dom :as rdom]\n            [applied-science.js-interop :as j]\n            [promesa.core :as p]))\n\n(defn init-htmx []\n  \"Initialize htmx on the page\"\n  (when (exists? js/window)\n    (-> (js/fetch \"https://unpkg.com/htmx.org@1.9.5\")\n        (.then #(.text %))\n        (.then (fn [text]\n                (let [script (js/document.createElement \"script\")]\n                  (j/assoc! script :type \"text/javascript\")\n                  (j/assoc! script :textContent text)\n                  (js/document.head.appendChild script)\n                  (js/console.log \"HTMX loaded successfully\")))))))\n\n(defn highlight-code []\n  \"Initialize syntax highlighting on code blocks\"\n  (when (and (exists? js/window) (exists? js/hljs))\n    (js/hljs.highlightAll)))\n\n(defn create-htmx-component [url target-id]\n  \"Create a reagent component that loads content via htmx\"\n  (let [node-ref (r/atom nil)]\n    (r/create-class\n     {:component-did-mount\n      (fn [this]\n        (let [node @node-ref]\n          (j/assoc! node :hx-get url)\n          (j/assoc! node :hx-trigger \"load\")\n          (j/assoc! node :hx-target (str \"#\" target-id))))\n      \n      :reagent-render\n      (fn []\n        [:div.htmx-container\n         {:ref #(reset! node-ref %)}\n         [:div.spinner-border.text-primary.m-5 {:role \"status\"}\n          [:span.visually-hidden \"Loading...\"]]])})))\n\n(defn handle-htmx-events []\n  \"Setup global event handlers for htmx events\"\n  (when (exists? js/window)\n    (let [body (js/document.body)]\n      (.addEventListener body \"htmx:afterSwap\"\n                        (fn [_]\n                          (highlight-code))))))\n\n(defn setup []\n  \"Setup all htmx functionality\"\n  (init-htmx)\n  (p/then (p/delay 500)\n          (fn []\n            (handle-htmx-events)))) "]}